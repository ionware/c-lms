\documentclass[a4paper,twoside]{article}
\usepackage[procnames,noindent]{lgrind}
\usepackage{fancyhdr,a4wide}
\usepackage{german}
\usepackage{makeidx}
\pagestyle{fancy}

\makeindex

\begin{document}
\renewcommand{\footrulewidth}{0.4pt}
\fancyhead[C]{\lgrindhead}
\fancyhead[LO,RE]{\lgrindfilesize~Bytes\\\lgrindmodtime}
\fancyhead[RO,LE]{\bfseries \lgrindfilename\\\lgrindmodday.\lgrindmodmonth.\lgrindmodyear}
\fancyfoot[C]{\bfseries\thepage}
\setlength{\headheight}{24pt}
\begin{lgrind}
\BGfont
\File{shelf.h}{2018}{11}{14}{1:11}{2315}
\L{\LB{\K{\#ifndef}_\V{LIBRARY\_MANAGEMENT\_SHELF\_H}}}
\L{\LB{\K{\#define}_\V{LIBRARY\_MANAGEMENT\_SHELF\_H}}}
\L{\LB{}}
\L{\LB{//_\V{Holds}_\V{the}_\V{value}_\K{for}_\V{the}_\V{current}_\V{department}.}}
\L{\LB{\K{int}_\V{department\_id}_=_\N{0};}}
\L{\LB{}}
\L{\LB{\K{extern}_\K{int}_\V{request};}}
\L{\LB{}}
\L{\LB{//_\V{Global}_\V{storage}_\K{for}_\V{book}_\V{names}.}}
\L{\LB{\K{char}_\V{name}[\,];}}
\L{\LB{}}
\L{\LB{//_\V{Removes}_\V{newline}_\V{from}_\V{books}_\V{to}_\V{be}_\V{inserted}_\V{into}}}
\L{\LB{//_\V{the}_\V{Library}_\V{shelf}.}}
\index{removeWhiteSpace}\Proc{removeWhiteSpace}\L{\LB{\K{char}_*_\V{removeWhiteSpace}(\K{char}_\V{string}[\,])_\{}}
\L{\LB{}\Tab{4}{\K{int}_\V{i};}}
\L{\LB{}\Tab{4}{\K{for}_(\V{i}_=_\N{0};_\V{i}_\<=_\V{strlen}(\V{string});_\V{i}++)_\{}}
\L{\LB{}\Tab{8}{\K{if}(\V{string}[\V{i}]_==_\S{}{'}\2n{'}\SE{})_\{}}
\L{\LB{}\Tab{12}{\V{string}[\V{i}]_=_\S{}{'}\20{'}\SE{};}}
\L{\LB{}\Tab{8}{\}}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}\Tab{4}{\K{return}_\V{string};}}
\L{\LB{\}}}
\L{\LB{}}
\L{\LB{//_\V{Defines}_\V{the}_\V{structure}_\V{of}_\V{the}_\V{Book}_\V{on}_\V{a}_\V{shelf}}}
\L{\LB{//_\V{of}_\V{a}_\V{precise}_\V{department}.}}
\L{\LB{\K{struct}_\V{shelf}_\{}}
\L{\LB{}\Tab{4}{\K{int}_\V{id};}}
\L{\LB{}\Tab{4}{\K{int}_\V{year};}}
\L{\LB{}\Tab{4}{\K{char}_\V{title}[\N{255}];}}
\L{\LB{}\Tab{4}{//\K{char}_*_\V{author};}}
\L{\LB{}}
\L{\LB{\};}}
\L{\LB{}}
\L{\LB{//_\V{Defines}_\V{the}_\V{structure}_\V{of}_\V{a}_\V{more}_\V{generic}_\V{shelf}_\V{of}}}
\L{\LB{//_\V{a}_\V{particular}_\V{department}_\V{in}_\V{the}_\V{Library}.}}
\L{\LB{//_=\>_\V{A}_\V{Department}_\V{shelf}_\V{can}_\V{not}_\V{hold}_\V{more}_\V{than}_\N{100}_\V{Books}.}}
\L{\LB{\K{struct}_\V{shelves}_\{}}
\L{\LB{}\Tab{4}{\K{int}_\V{id};}}
\L{\LB{}\Tab{4}{\K{struct}_\V{shelf}_\V{department}[\N{100}];}}
\L{\LB{\};}}
\L{\LB{}}
\L{\LB{//_\V{Construct}_\V{three}_\V{array}_\K{for}_\V{Comp}._\V{Sci},_\V{LIS}_\V{and}_\V{Mass}_\V{Comm}.}}
\L{\LB{//_\V{Since}_\V{we}_\V{are}_\V{dealing}_\V{only}_\V{with}_\N{3}_\V{departments}.}}
\L{\LB{\K{struct}_\V{shelves}_\V{library}[\N{3}];}}
\L{\LB{}}
\index{insertBook}\Proc{insertBook}\L{\LB{\K{void}_\V{insertBook}()_\{}}
\L{\LB{}\Tab{4}{\K{char}_\V{title}[\N{255}],_*\V{pos};}}
\L{\LB{}\Tab{4}{\K{int}_\V{i},_\V{bookYear};}}
\L{\LB{}\Tab{4}{\V{printLines}();}}
\L{\LB{}\Tab{4}{\V{printf}(\S{}\3Insert_Book_into_Computer_Science_Shelf\2n\3\SE{});}}
\L{\LB{}\Tab{4}{\V{printLines}();}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\K{for}(\V{i}_=_\N{0};_\V{i}_\<=_\N{99};_\V{i}++)_\{}}
\L{\LB{}\Tab{8}{\K{if}_(!!!\V{library}[\V{department\_id}].\V{department}[\V{i}].\V{id})_\{}}
\L{\LB{}\Tab{12}{\V{printf}(\S{}\3Enter_the_name_of_the_Book:_\3\SE{});}}
\L{\LB{}\Tab{12}{\V{getchar}();}}
\L{\LB{}\Tab{12}{\V{fgets}(\V{name},_\N{255},_\V{stdin});}}
\L{\LB{}\Tab{12}{\V{strcpy}(\V{library}[\V{department\_id}].\V{department}[\V{i}].\V{title},_\V{removeWhiteSpace}(\V{name}));}}
\L{\LB{}\Tab{12}{\V{printf}(\S{}\3The_year_of_Publishing:_\2n\3\SE{});}}
\L{\LB{}\Tab{12}{\V{scanf}(\S{}\3\%d\3\SE{},_\&\V{bookYear});}}
\L{\LB{}}
\L{\LB{}\Tab{12}{\V{library}[\V{department\_id}].\V{department}[\V{i}].\V{id}_=_\V{i}_+_\N{1};}}
\L{\LB{}\Tab{12}{\V{library}[\V{department\_id}].\V{department}[\V{i}].\V{year}_=_\V{bookYear};}}
\L{\LB{}\Tab{12}{\K{break};}}
\L{\LB{}\Tab{8}{\}}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}\Tab{4}{\V{printf}(\S{}\3Book_has_been_Added_with_an_ID_of_\%d\2n\3\SE{},_\V{i}_+_\N{1});}}
\L{\LB{}\Tab{4}{\V{printLines}();}}
\L{\LB{}\Tab{4}{\V{sleep}(\N{3});}}
\L{\LB{}\Tab{4}{\V{request}_=_\N{31};}}
\L{\LB{\}}}
\L{\LB{}}
\index{removeBook}\Proc{removeBook}\L{\LB{\K{void}_\V{removeBook}(\K{int}_\V{id})_\{}}
\L{\LB{}\Tab{4}{\K{int}_\V{bookId}_=_\V{id};}}
\L{\LB{}\Tab{4}{\K{if}_(\V{library}[\V{department\_id}].\V{department}[\V{bookId}].\V{id})_\{}}
\L{\LB{}\Tab{8}{\V{printLines}();}}
\L{\LB{}\Tab{8}{\V{library}[\V{department\_id}].\V{department}[\V{bookId}].\V{id}_=_\N{0};}}
\L{\LB{}\Tab{8}{\V{printf}(\S{}\3Book_has_been_deleted_successfully.\2n\3\SE{});}}
\L{\LB{}\Tab{8}{\V{printLines}();}}
\L{\LB{}\Tab{8}{\V{sleep}(\N{3});}}
\L{\LB{}\Tab{8}{\V{request}_=_\N{4};}}
\L{\LB{}\Tab{8}{\K{return};}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}\Tab{4}{\V{printLines}();}}
\L{\LB{}\Tab{4}{\V{printf}(\S{}\3The_Book_with_the_ID_\%d_was_not_found_on_the_Shelf.\2n\3\SE{},_\V{id});}}
\L{\LB{}\Tab{4}{\V{printLines}();}}
\L{\LB{}\Tab{4}{\V{sleep}(\N{3});}}
\L{\LB{}\Tab{4}{\V{request}_=_\N{4};}}
\L{\LB{\}}}
\L{\LB{\K{\#endif}_//\V{LIBRARY\_MANAGEMENT\_SHELF\_H}}}
\end{lgrind}
\printindex
\end{document}